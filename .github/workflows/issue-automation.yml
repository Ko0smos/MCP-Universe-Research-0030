name: Issue Automation
on:
  issues:
    types: [opened]
jobs:
  - name: Add comment based on label
    run-if: \
      github.event_name == 'issue'
      && github.event.action == 'opened'
    run:
      - name: Add comment
        id: add_comment
        uses: actions/github-script
        with:
          script: |
            if (github.event.issue.labels.find(label => label.name === 'bug')) {
              github.rest.issues.createComment({
                issue_number: github.event.issue.number,
                owner: github.event.repository.owner.login,
                repo: github.event.repository.name,
                body: 'Thank you. We will fix it.'
              });
            } else if (github.event.issue.labels.find(label => label.name === 'feature')) {
              github.rest.issues.createComment({
                issue_number: github.event.issue.number,
                owner: github.event.repository.owner.login,
                repo: github.event.repository.name,
                body: 'Thank you, we will consider to include this feature.'
              });
            } else if (github.event.issue.labels.find(label => label.name === 'discussion')) {
              github.rest.issues.createComment({
                issue_number: github.event.issue.number,
                owner: github.event.repository.owner.login,
                repo: github.event.repository.name,
                body: 'Thanks for starting this discussion! We welcome community input.'
              });
            } else {
              github.rest.issues.createComment({
                issue_number: github.event.issue.number,
                owner: github.event.repository.owner.login,
                repo: github.event.repository.name,
                body: 'Thank you for your contribution!'
              });
            }